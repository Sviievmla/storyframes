<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Premium Frame ‚Äî Story Frames</title>
  <meta name="description" content="Premium Frame ‚Äî Story Frames. We turn your photo into a short video and embed it in the product. PayPal or COD in Bulgaria." />

  <link rel="stylesheet" href="styles.css">
  <script defer src="i18n.js"></script>
  <!-- PayPal SDK - supports both PayPal and card payments -->
  <script src="https://www.paypal.com/sdk/js?client-id=AZDxjDScFpQtjWTOUtWKbyN_bDt4OgqaF4eYXlewfBP4-8aqX3PiV8e1GWU6liB2CUed2TK-uhjVCt_b&currency=EUR&intent=capture"></script>

  <style>
    .wrap{display:grid; grid-template-columns: 1.1fr .9fr; gap:14px; align-items:start}
    .box{border:1px solid var(--line); border-radius:24px; background: rgba(255,255,255,.04); box-shadow: var(--shadow); padding:18px}
    .muted{color:var(--muted)}
    .grid3{display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; margin-top:12px}
    .thumb{border:1px solid var(--line); border-radius:16px; overflow:hidden; background: rgba(0,0,0,.18); cursor:pointer}
    .thumb img{width:100%; height:170px; object-fit:cover; display:block}
    @media (max-width: 920px){.wrap{grid-template-columns:1fr}.grid3{grid-template-columns:1fr}}
  </style>
</head>

<body>
  <div class="container">
    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay" onclick="toggleMobileMenu()"></div>
    
    <header class="top">
      <a class="brand" href="index.html">
        <div class="logo"><img src="logo.png" alt="Story Frames"></div>
        <div>
          <strong>Story Frames</strong>
          <small data-i18n="tagline">Crafting stories from photos</small>
        </div>
      </a>

      <!-- Mobile Menu Toggle -->
      <button class="mobile-menu-toggle" id="mobileMenuToggle" onclick="toggleMobileMenu()" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <nav class="topnav" id="mobileNav">
        <a href="index.html" data-i18n="nav_home">Home</a>
        <a href="index.html#products" data-i18n="nav_products">Products</a>
        <a class="pill" href="https://facebook.com/Storyframesvarna/" target="_blank" rel="noopener noreferrer">Facebook</a>
        <a class="cart-icon" href="index.html#cart" id="cartIcon">
          üõí <span data-i18n="cart">Cart</span>
          <span class="cart-badge" id="cartBadge" style="display:none;">0</span>
        </a>


        <div class="lang" aria-label="Language">
          <button class="langbtn" data-lang="en">EN</button>
          <button class="langbtn" data-lang="bg">BG</button>
        </div>
      </nav>
    </header>

    <div class="wrap">
      <div class="box">
        <h1 data-i18n="p2_title">Premium Frame</h1>
        <p class="muted" data-i18n="p2_desc">A clean, premium digital frame for memories that deserve a spotlight.</p>

        <div class="grid3">
          <div class="thumb" onclick="openLightbox('frame-1.jpg')"><img src="frame-1.jpg" alt="Frame 1"></div>
          <div class="thumb" onclick="openLightbox('frame-2.jpg')"><img src="frame-2.jpg" alt="Frame 2"></div>
          <div class="thumb" onclick="openLightbox('frame-3.jpg')"><img src="frame-3.jpg" alt="Frame 3"></div>
        </div>

        <div class="actions" style="margin-top:14px">
          <a class="btn" href="index.html" data-i18n="back_home">Back to home</a>
        </div>
      </div>

      <div class="box" style="position:sticky;top:90px;">
        <div class="price" style="font-size:32px;margin-bottom:8px;">‚Ç¨49.99</div>
        <div class="tiny" data-i18n="pay_physical" style="margin-bottom:16px;">PayPal (card) ‚Ä¢ Bulgaria COD</div>

        <!-- PayPal Smart Payment Buttons -->
        <div id="paypal-button-container" style="margin-bottom:12px"></div>
        
        <div class="actions">
          <button class="btn gold" data-i18n="buy_cod" onclick="codOrder('Premium Frame', 49.99)" style="width:100%;">Bulgaria COD</button>
        </div>

        <div style="margin-top:14px" class="muted" data-i18n="what_you_get"></div>

        <div class="actions" style="margin-top:14px">
          <div style="font-size:13px;font-weight:700;margin-bottom:10px;color:var(--text);text-align:center;">‚úâÔ∏è Questions? Contact us:</div>
          <a class="btn" href="mailto:Sviievmla@gmail.com?subject=Story%20Frames%20Order%20-%20Premium%20Frame" style="flex:1;font-size:13px;padding:10px;">Email</a>
          <a class="btn" href="https://facebook.com/Storyframesvarna/" target="_blank" rel="noopener noreferrer" style="flex:1;font-size:13px;padding:10px;">Facebook</a>
        </div>
      </div>
    </div>
  </div>

  <div class="lightbox" id="lightbox" onclick="closeLightbox()">
    <img id="lightboxImg" alt="Expanded image" />
  </div>

  <script>
    const PAYPAL_EMAIL = "Sviievmla@gmail.com";
    const CONTACT_EMAIL = "Sviievmla@gmail.com";

    // Mobile Menu Toggle
    function toggleMobileMenu() {
      const nav = document.getElementById('mobileNav');
      const toggle = document.getElementById('mobileMenuToggle');
      const overlay = document.getElementById('mobileMenuOverlay');
      
      nav.classList.toggle('active');
      toggle.classList.toggle('active');
      overlay.classList.toggle('active');
      
      if (nav.classList.contains('active')) {
        document.body.style.overflow = 'hidden';
      } else {
        document.body.style.overflow = '';
      }
    }
    
    // Close mobile menu when clicking on a link
    document.querySelectorAll('#mobileNav a').forEach(link => {
      link.addEventListener('click', function() {
        const nav = document.getElementById('mobileNav');
        const toggle = document.getElementById('mobileMenuToggle');
        const overlay = document.getElementById('mobileMenuOverlay');
        
        nav.classList.remove('active');
        toggle.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = '';
      });
    });

    // Update cart badge on page load
    function updateCartBadge() {
      const cart = JSON.parse(localStorage.getItem('storyframesCart') || '[]');
      const badge = document.getElementById('cartBadge');
      if (cart.length > 0) {
        badge.style.display = 'flex';
        badge.textContent = cart.length;
      } else {
        badge.style.display = 'none';
      }
    }
    updateCartBadge();

    // Render PayPal Smart Payment Buttons
    const PRODUCT_NAME = 'Premium Frame';
    const PRODUCT_PRICE = 49.99;
    
    paypal.Buttons({
      style: {
        layout: 'vertical',
        color: 'gold',
        shape: 'rect',
        label: 'paypal'
      },
      
      createOrder: function(data, actions) {
        return actions.order.create({
          purchase_units: [{
            description: PRODUCT_NAME,
            amount: {
              currency_code: 'EUR',
              value: PRODUCT_PRICE.toFixed(2)
            }
          }]
        });
      },
      
      onApprove: function(data, actions) {
        return actions.order.capture().then(function(details) {
          alert('Payment successful! Order ID: ' + details.id + '\n\nThank you, ' + details.payer.name.given_name + '!\n\nWe will send you an email confirmation shortly.');
          
          // Send order confirmation
          const subject = 'Story Frames Order Confirmation - ' + details.id;
          const body = [
            'Order Confirmation',
            '',
            'Transaction ID: ' + details.id,
            'Customer: ' + details.payer.name.given_name + ' ' + details.payer.name.surname,
            'Email: ' + details.payer.email_address,
            '',
            'Product: ' + PRODUCT_NAME,
            'Price: ‚Ç¨' + PRODUCT_PRICE.toFixed(2),
            '',
            'Please send your photos to complete the order.'
          ].join('\n');
          
          window.open(`mailto:Sviievmla@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`, '_blank');
        });
      },
      
      onError: function(err) {
        console.error('PayPal error:', err);
        alert('An error occurred during payment. Please try again.');
      },
      
      onCancel: function(data) {
        alert('Payment cancelled.');
      }
    }).render('#paypal-button-container');

    function codOrder(item, amount){
      const subject = `Story Frames COD Order ‚Äî ${item}`;
      const body = [
        "New COD Order (Bulgaria)",
        "",
        `Product: ${item}`,
        `Price: ‚Ç¨${Number(amount).toFixed(2)}`,
        "",
        "Name:",
        "Phone:",
        "City / Address:",
        "",
        "Photo link / notes (optional):",
        "",
        "Please reply to confirm delivery details."
      ].join("\n");
      window.location.href = `mailto:${encodeURIComponent(CONTACT_EMAIL)}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
    }

    function openLightbox(src){
      document.getElementById("lightboxImg").src = src;
      document.getElementById("lightbox").style.display = "flex";
      document.body.style.overflow = "hidden";
    }
    function closeLightbox(){
      document.getElementById("lightbox").style.display = "none";
      document.body.style.overflow = "";
    }
  </script>
</body>
</html>
