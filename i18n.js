// Story Frames - i18n Translation System
const translations = {
  en: {
    // Navigation
    nav_home: "Home",
    nav_products: "Products",
    nav_gallery: "Gallery",
    nav_service: "Service",
    cart: "Cart",
    tagline: "Crafting stories from photos",
    
    // Hero Section
    hero_title: "Personalized gifts that come to life.",
    hero_text: "Send us a photo ‚Äî we transform it into a short video and embed it into your chosen product. A moving memory that feels premium, personal, and unforgettable.",
    cta_products: "View products",
    cta_email: "Order by email",
    cta_fb: "Message on Facebook",
    
    // How it Works
    how_title: "How ordering works",
    how_1: "You send us your photo (even an old paper photo).",
    how_2: 'We turn it into a short "magic" video story.',
    how_3: "We deliver it inside your selected product.",
    
    // Products Section
    products_title: "Products",
    p1_title: "Video Ball",
    p1_desc: "A modern spherical display with your animated memory inside.",
    p2_title: "Premium Frame",
    p2_desc: "A clean, premium digital frame for memories that deserve a spotlight.",
    p3_title: "Digital Greeting Card",
    p3_desc: "A stylish digital card with your story and your music.",
    order_now: "Order",
    add_to_cart: "Add to Cart",
    open_details: "Open details ‚Üí",
    pay_physical: "PayPal (card) ‚Ä¢ Bulgaria COD",
    pay_digital: "PayPal (card) ‚Ä¢ Instant delivery",
    
    // Gallery Section
    gallery_title: "Gallery",
    gallery_hint: "Click any photo to view it bigger.",
    
    // Service Section
    service_title: "Service",
    about_title: "STORY FRAMES ‚Äî The most innovative gift",
    about_text: "Bring memories to life: every photo becomes a short video. We offer digital frames for your memories and digital invitation / greeting cards. Warm someone's heart with a moving memory. Message us to order. ‚ú®",
    why_title: "Why choose a digital card?",
    why_1: "‚ú® <b>Living memories:</b> we transform even an old paper photo into a short video story.",
    why_2: 'üéÅ <b>A gift that impresses:</b> perfect for birthdays, anniversaries, holidays ‚Äî or "just because".',
    why_3: "üéµ <b>Your personal soundtrack:</b> add the song that matters to you.",
    why_4: "üì± <b>Stylish & lasting:</b> compact, easy to keep, and brings a smile every time.",
    why_5: "üíñ <b>Fully personalized:</b> designed for your unique story.",
    quote: '"Flowers fade, chocolates get eaten ‚Äî but the feeling you share stays forever."',
    
    // Cart
    cart_title: "Shopping Cart",
    cart_empty: "Your cart is empty",
    total: "Total:",
    subtotal: "Subtotal:",
    clear_cart: "Clear Cart",
    remove: "Remove",
    quantity: "Qty:",
    update_quantity: "Update",
    checkout_btn: "Proceed to Checkout",
    continue_shopping: "Continue Shopping",
    card_payment_note: "üí≥ PayPal also accepts credit and debit cards",
    cod_info_text: "Cash on Delivery available for Bulgaria orders only. We'll contact you to confirm delivery details.",
    
    // Product Details Pages
    back_home: "Back to home",
    buy_cod: "Bulgaria COD",
    buy_cod_checkout: "ORDER NOW (Bulgaria COD)",
    what_you_get: '<b>What you get:</b><br>‚Ä¢ Your photo becomes a short "magic" video story<br>‚Ä¢ Personal, emotional, premium gift<br>‚Ä¢ Perfect for birthdays, anniversaries, surprises',
    
    // Checkout Page
    checkout_title: "Checkout",
    checkout_subtitle: "Complete your order",
    customer_details: "Customer Details",
    full_name: "Full Name",
    email: "Email Address",
    phone: "Phone Number",
    address: "Shipping Address",
    city: "City",
    postal_code: "Postal Code",
    country: "Country",
    order_summary: "Order Summary",
    order_notes: "Order Notes (Optional)",
    order_notes_placeholder: "Special instructions, delivery preferences, etc.",
    payment_method: "Payment Method",
    place_order: "Place Order",
    required_field: "This field is required",
    invalid_email: "Please enter a valid email address"
  },
  bg: {
    // Navigation
    nav_home: "–ù–∞—á–∞–ª–æ",
    nav_products: "–ü—Ä–æ–¥—É–∫—Ç–∏",
    nav_gallery: "–ì–∞–ª–µ—Ä–∏—è",
    nav_service: "–£—Å–ª—É–≥–∏",
    cart: "–ö–æ–ª–∏—á–∫–∞",
    tagline: "–°—ä–∑–¥–∞–≤–∞–º–µ –∏—Å—Ç–æ—Ä–∏–∏ –æ—Ç —Å–Ω–∏–º–∫–∏",
    
    // Hero Section
    hero_title: "–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ –ø–æ–¥–∞—Ä—ä—Ü–∏, –∫–æ–∏—Ç–æ –æ–∂–∏–≤—è–≤–∞—Ç.",
    hero_text: "–ò–∑–ø—Ä–∞—Ç–µ—Ç–µ –Ω–∏ —Å–Ω–∏–º–∫–∞ ‚Äî –Ω–∏–µ —è –ø—Ä–µ–≤—Ä—ä—â–∞–º–µ –≤ –∫—Ä–∞—Ç–∫–æ –≤–∏–¥–µ–æ –∏ —è –≤–≥—Ä–∞–∂–¥–∞–º–µ –≤ –∏–∑–±—Ä–∞–Ω–∏—è –æ—Ç –≤–∞—Å –ø—Ä–æ–¥—É–∫—Ç. –î–≤–∏–∂–µ—â–∞ —Å–µ —Å–ø–æ–º–µ–Ω–∞, –∫–æ—è—Ç–æ –µ –ø—Ä–µ–º–∏—É–º, –ª–∏—á–Ω–∞ –∏ –Ω–µ–∑–∞–±—Ä–∞–≤–∏–º–∞.",
    cta_products: "–í–∏–∂ –ø—Ä–æ–¥—É–∫—Ç–∏—Ç–µ",
    cta_email: "–ü–æ—Ä—ä—á–∞–π –ø–æ –∏–º–µ–π–ª",
    cta_fb: "–°—ä–æ–±—â–µ–Ω–∏–µ –≤—ä–≤ Facebook",
    
    // How it Works
    how_title: "–ö–∞–∫ —Ä–∞–±–æ—Ç–∏ –ø–æ—Ä—ä—á–≤–∞–Ω–µ—Ç–æ",
    how_1: "–ò–∑–ø—Ä–∞—â–∞—Ç–µ –Ω–∏ –≤–∞—à–∞—Ç–∞ —Å–Ω–∏–º–∫–∞ (–¥–æ—Ä–∏ —Å—Ç–∞—Ä–∞ —Ö–∞—Ä—Ç–∏–µ–Ω–∞ —Å–Ω–∏–º–∫–∞).",
    how_2: '–ü—Ä–µ–≤—Ä—ä—â–∞–º–µ —è –≤ –∫—Ä–∞—Ç–∫–∞ ‚Äû–º–∞–≥–∏—á–µ—Å–∫–∞" –≤–∏–¥–µ–æ –∏—Å—Ç–æ—Ä–∏—è.',
    how_3: "–î–æ—Å—Ç–∞–≤—è–º–µ —è –≤–≥—Ä–∞–¥–µ–Ω–∞ –≤ –∏–∑–±—Ä–∞–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç.",
    
    // Products Section
    products_title: "–ü—Ä–æ–¥—É–∫—Ç–∏",
    p1_title: "–í–∏–¥–µ–æ —Ç–æ–ø–∫–∞",
    p1_desc: "–ú–æ–¥–µ—Ä–µ–Ω —Å—Ñ–µ—Ä–∏—á–µ–Ω –¥–∏—Å–ø–ª–µ–π —Å –≤–∞—à–∞—Ç–∞ –∞–Ω–∏–º–∏—Ä–∞–Ω–∞ —Å–ø–æ–º–µ–Ω–∞ –≤—ä—Ç—Ä–µ.",
    p2_title: "–ü—Ä–µ–º–∏—É–º —Ä–∞–º–∫–∞",
    p2_desc: "–ß–∏—Å—Ç–∞, –ø—Ä–µ–º–∏—É–º –¥–∏–≥–∏—Ç–∞–ª–Ω–∞ —Ä–∞–º–∫–∞ –∑–∞ —Å–ø–æ–º–µ–Ω–∏, –∫–æ–∏—Ç–æ –∑–∞—Å–ª—É–∂–∞–≤–∞—Ç –≤–Ω–∏–º–∞–Ω–∏–µ.",
    p3_title: "–î–∏–≥–∏—Ç–∞–ª–Ω–∞ –ø–æ–∑–¥—Ä–∞–≤–∏—Ç–µ–ª–Ω–∞ –∫–∞—Ä—Ç–∏—á–∫–∞",
    p3_desc: "–°—Ç–∏–ª–Ω–∞ –¥–∏–≥–∏—Ç–∞–ª–Ω–∞ –∫–∞—Ä—Ç–∏—á–∫–∞ —Å –≤–∞—à–∞—Ç–∞ –∏—Å—Ç–æ—Ä–∏—è –∏ –º—É–∑–∏–∫–∞.",
    order_now: "–ü–æ—Ä—ä—á–∞–π",
    add_to_cart: "–î–æ–±–∞–≤–∏ –≤ –∫–æ–ª–∏—á–∫–∞—Ç–∞",
    open_details: "–û—Ç–≤–æ—Ä–∏ –¥–µ—Ç–∞–π–ª–∏ ‚Üí",
    pay_physical: "PayPal (–∫–∞—Ä—Ç–∞) ‚Ä¢ –ù–∞–ª–æ–∂–µ–Ω –ø–ª–∞—Ç–µ–∂ –≤ –ë—ä–ª–≥–∞—Ä–∏—è",
    pay_digital: "PayPal (–∫–∞—Ä—Ç–∞) ‚Ä¢ –ù–µ–∑–∞–±–∞–≤–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞",
    
    // Gallery Section
    gallery_title: "–ì–∞–ª–µ—Ä–∏—è",
    gallery_hint: "–ö–ª–∏–∫–Ω–µ—Ç–µ –≤—ä—Ä—Ö—É —Å–Ω–∏–º–∫–∞, –∑–∞ –¥–∞ —è –≤–∏–¥–∏—Ç–µ –ø–æ-–≥–æ–ª—è–º–∞.",
    
    // Service Section
    service_title: "–£—Å–ª—É–≥–∏",
    about_title: "STORY FRAMES ‚Äî –ù–∞–π-–∏–Ω–æ–≤–∞—Ç–∏–≤–Ω–∏—è—Ç –ø–æ–¥–∞—Ä—ä–∫",
    about_text: "–û–∂–∏–≤–µ—Ç–µ —Å–ø–æ–º–µ–Ω–∏—Ç–µ: –≤—Å—è–∫–∞ —Å–Ω–∏–º–∫–∞ —Å—Ç–∞–≤–∞ –∫—Ä–∞—Ç–∫–æ –≤–∏–¥–µ–æ. –ü—Ä–µ–¥–ª–∞–≥–∞–º–µ –¥–∏–≥–∏—Ç–∞–ª–Ω–∏ —Ä–∞–º–∫–∏ –∑–∞ –≤–∞—à–∏—Ç–µ —Å–ø–æ–º–µ–Ω–∏ –∏ –¥–∏–≥–∏—Ç–∞–ª–Ω–∏ –ø–æ–∫–∞–Ω–∏ / –ø–æ–∑–¥—Ä–∞–≤–∏—Ç–µ–ª–Ω–∏ –∫–∞—Ä—Ç–∏—á–∫–∏. –ó–∞—Ç–æ–ø–ª–µ—Ç–µ –Ω–µ—á–∏–µ —Å—ä—Ä—Ü–µ —Å –¥–≤–∏–∂–µ—â–∞ —Å–µ —Å–ø–æ–º–µ–Ω–∞. –ü–∏—à–µ—Ç–µ –Ω–∏, –∑–∞ –¥–∞ –ø–æ—Ä—ä—á–∞—Ç–µ. ‚ú®",
    why_title: "–ó–∞—â–æ –¥–∞ –∏–∑–±–µ—Ä–µ—Ç–µ –¥–∏–≥–∏—Ç–∞–ª–Ω–∞ –∫–∞—Ä—Ç–∏—á–∫–∞?",
    why_1: "‚ú® <b>–ñ–∏–≤–∏ —Å–ø–æ–º–µ–Ω–∏:</b> –ø—Ä–µ–≤—Ä—ä—â–∞–º–µ –¥–æ—Ä–∏ —Å—Ç–∞—Ä–∞ —Ö–∞—Ä—Ç–∏–µ–Ω–∞ —Å–Ω–∏–º–∫–∞ –≤ –∫—Ä–∞—Ç–∫–∞ –≤–∏–¥–µ–æ –∏—Å—Ç–æ—Ä–∏—è.",
    why_2: 'üéÅ <b>–ü–æ–¥–∞—Ä—ä–∫, –∫–æ–π—Ç–æ –≤–ø–µ—á–∞—Ç–ª—è–≤–∞:</b> –ø–µ—Ä—Ñ–µ–∫—Ç–µ–Ω –∑–∞ —Ä–æ–∂–¥–µ–Ω–∏ –¥–Ω–∏, –≥–æ–¥–∏—à–Ω–∏–Ω–∏, –ø—Ä–∞–∑–Ω–∏—Ü–∏ ‚Äî –∏–ª–∏ ‚Äû–ø—Ä–æ—Å—Ç–æ —Ç–∞–∫–∞".',
    why_3: "üéµ <b>–í–∞—à–∏—è—Ç –ª–∏—á–µ–Ω —Å–∞—É–Ω–¥—Ç—Ä–∞–∫:</b> –¥–æ–±–∞–≤–µ—Ç–µ –ø–µ—Å–µ–Ω—Ç–∞, –∫–æ—è—Ç–æ –∏–º–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞ –≤–∞—Å.",
    why_4: "üì± <b>–°—Ç–∏–ª–µ–Ω –∏ —Ç—Ä–∞–µ–Ω:</b> –∫–æ–º–ø–∞–∫—Ç–µ–Ω, –ª–µ—Å–µ–Ω –∑–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –Ω–æ—Å–∏ —É—Å–º–∏–≤–∫–∞ –≤—Å–µ–∫–∏ –ø—ä—Ç.",
    why_5: "üíñ <b>–ù–∞–ø—ä–ª–Ω–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω:</b> –ø—Ä–æ–µ–∫—Ç–∏—Ä–∞–Ω –∑–∞ –≤–∞—à–∞—Ç–∞ —É–Ω–∏–∫–∞–ª–Ω–∞ –∏—Å—Ç–æ—Ä–∏—è.",
    quote: '‚Äû–¶–≤–µ—Ç—è—Ç–∞ —É–≤—è—Ö–≤–∞—Ç, —à–æ–∫–æ–ª–∞–¥–∏—Ç–µ —Å–µ –∏–∑—è–∂–¥–∞—Ç ‚Äî –Ω–æ —á—É–≤—Å—Ç–≤–æ—Ç–æ, –∫–æ–µ—Ç–æ —Å–ø–æ–¥–µ–ª—è—Ç–µ, –æ—Å—Ç–∞–≤–∞ –∑–∞–≤–∏–Ω–∞–≥–∏."',
    
    // Cart
    cart_title: "–ö–æ–ª–∏—á–∫–∞ –∑–∞ –ø–∞–∑–∞—Ä—É–≤–∞–Ω–µ",
    cart_empty: "–í–∞—à–∞—Ç–∞ –∫–æ–ª–∏—á–∫–∞ –µ –ø—Ä–∞–∑–Ω–∞",
    total: "–û–±—â–æ:",
    subtotal: "–ú–µ–∂–¥–∏–Ω–Ω–∞ —Å—É–º–∞:",
    clear_cart: "–ò–∑—á–∏—Å—Ç–∏ –∫–æ–ª–∏—á–∫–∞—Ç–∞",
    remove: "–ü—Ä–µ–º–∞—Ö–Ω–∏",
    quantity: "–ë—Ä.:",
    update_quantity: "–ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–π",
    checkout_btn: "–ü—Ä–æ–¥—ä–ª–∂–∏ –∫—ä–º –ø–ª–∞—â–∞–Ω–µ",
    continue_shopping: "–ü—Ä–æ–¥—ä–ª–∂–∏ –ø–∞–∑–∞—Ä—É–≤–∞–Ω–µ—Ç–æ",
    card_payment_note: "üí≥ PayPal –ø—Ä–∏–µ–º–∞ —Å—ä—â–æ –∫—Ä–µ–¥–∏—Ç–Ω–∏ –∏ –¥–µ–±–∏—Ç–Ω–∏ –∫–∞—Ä—Ç–∏",
    cod_info_text: "–ù–∞–ª–æ–∂–µ–Ω –ø–ª–∞—Ç–µ–∂ –µ –¥–æ—Å—Ç—ä–ø–µ–Ω —Å–∞–º–æ –∑–∞ –ø–æ—Ä—ä—á–∫–∏ –≤ –ë—ä–ª–≥–∞—Ä–∏—è. –©–µ —Å–µ —Å–≤—ä—Ä–∂–µ–º —Å –≤–∞—Å –∑–∞ –ø–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏–µ –Ω–∞ –¥–µ—Ç–∞–π–ª–∏—Ç–µ –∑–∞ –¥–æ—Å—Ç–∞–≤–∫–∞.",
    
    // Product Details Pages
    back_home: "–û–±—Ä–∞—Ç–Ω–æ –∫—ä–º –Ω–∞—á–∞–ª–æ",
    buy_cod: "–ù–∞–ª–æ–∂–µ–Ω –ø–ª–∞—Ç–µ–∂ –≤ –ë—ä–ª–≥–∞—Ä–∏—è",
    buy_cod_checkout: "–ü–û–†–™–ß–ê–ô (–ù–∞–ª–æ–∂–µ–Ω –ø–ª–∞—Ç–µ–∂ –ë—ä–ª–≥–∞—Ä–∏—è)",
    what_you_get: '<b>–ö–∞–∫–≤–æ –ø–æ–ª—É—á–∞–≤–∞—Ç–µ:</b><br>‚Ä¢ –í–∞—à–∞—Ç–∞ —Å–Ω–∏–º–∫–∞ —Å—Ç–∞–≤–∞ –∫—Ä–∞—Ç–∫–∞ ‚Äû–º–∞–≥–∏—á–µ—Å–∫–∞" –≤–∏–¥–µ–æ –∏—Å—Ç–æ—Ä–∏—è<br>‚Ä¢ –õ–∏—á–µ–Ω, –µ–º–æ—Ü–∏–æ–Ω–∞–ª–µ–Ω, –ø—Ä–µ–º–∏—É–º –ø–æ–¥–∞—Ä—ä–∫<br>‚Ä¢ –ü–µ—Ä—Ñ–µ–∫—Ç–µ–Ω –∑–∞ —Ä–æ–∂–¥–µ–Ω–∏ –¥–Ω–∏, –≥–æ–¥–∏—à–Ω–∏–Ω–∏, –∏–∑–Ω–µ–Ω–∞–¥–∏',
    
    // Checkout Page
    checkout_title: "–ü–ª–∞—â–∞–Ω–µ",
    checkout_subtitle: "–ó–∞–≤—ä—Ä—à–µ—Ç–µ –ø–æ—Ä—ä—á–∫–∞—Ç–∞ —Å–∏",
    customer_details: "–î–∞–Ω–Ω–∏ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞",
    full_name: "–ü—ä–ª–Ω–æ –∏–º–µ",
    email: "–ò–º–µ–π–ª –∞–¥—Ä–µ—Å",
    phone: "–¢–µ–ª–µ—Ñ–æ–Ω–µ–Ω –Ω–æ–º–µ—Ä",
    address: "–ê–¥—Ä–µ—Å –∑–∞ –¥–æ—Å—Ç–∞–≤–∫–∞",
    city: "–ì—Ä–∞–¥",
    postal_code: "–ü–æ—â–µ–Ω—Å–∫–∏ –∫–æ–¥",
    country: "–î—ä—Ä–∂–∞–≤–∞",
    order_summary: "–û–±–æ–±—â–µ–Ω–∏–µ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞—Ç–∞",
    order_notes: "–ë–µ–ª–µ–∂–∫–∏ –∫—ä–º –ø–æ—Ä—ä—á–∫–∞—Ç–∞ (–ø–æ –∏–∑–±–æ—Ä)",
    order_notes_placeholder: "–°–ø–µ—Ü–∏–∞–ª–Ω–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏—è –∑–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ –∏ –¥—Ä.",
    payment_method: "–ú–µ—Ç–æ–¥ –Ω–∞ –ø–ª–∞—â–∞–Ω–µ",
    place_order: "–ù–∞–ø—Ä–∞–≤–∏ –ø–æ—Ä—ä—á–∫–∞",
    required_field: "–¢–æ–≤–∞ –ø–æ–ª–µ –µ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ",
    invalid_email: "–ú–æ–ª—è, –≤—ä–≤–µ–¥–µ—Ç–µ –≤–∞–ª–∏–¥–µ–Ω –∏–º–µ–π–ª –∞–¥—Ä–µ—Å"
  }
};

// Initialize i18n system
(function() {
  // Get saved language or default to English
  let currentLang = localStorage.getItem('storyframes_lang') || 'en';
  
  // Function to apply translations
  function applyTranslations(lang) {
    currentLang = lang;
    localStorage.setItem('storyframes_lang', lang);
    document.documentElement.setAttribute('lang', lang);
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
      const key = element.getAttribute('data-i18n');
      if (translations[lang] && translations[lang][key]) {
        // Check if element has placeholder attribute
        if (element.hasAttribute('placeholder')) {
          element.setAttribute('placeholder', translations[lang][key]);
        } else {
          element.innerHTML = translations[lang][key];
        }
      }
    });
    
    // Update active language button
    document.querySelectorAll('.langbtn').forEach(btn => {
      if (btn.getAttribute('data-lang') === lang) {
        btn.classList.add('active');
      } else {
        btn.classList.remove('active');
      }
    });
    
    // Update HTML lang attribute
    document.documentElement.lang = lang;
    
    // Dispatch custom event for other scripts to listen to
    window.dispatchEvent(new CustomEvent('languageChanged', { detail: { lang: lang } }));
  }
  
  // Initialize translations when DOM is ready
  function initTranslations() {
    // Apply saved language
    applyTranslations(currentLang);
    
    // Add click handlers to language buttons
    document.querySelectorAll('.langbtn').forEach(btn => {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        const lang = this.getAttribute('data-lang');
        if (lang && (lang === 'en' || lang === 'bg')) {
          applyTranslations(lang);
        }
      });
    });
  }
  
  // Run initialization - ensure it runs after DOM is fully loaded
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initTranslations);
  } else {
    // DOM already loaded, run immediately
    initTranslations();
  }
  
  // Export for use in other scripts
  window.i18n = {
    t: function(key) {
      return translations[currentLang][key] || key;
    },
    getCurrentLang: function() {
      return currentLang;
    },
    setLang: function(lang) {
      applyTranslations(lang);
    }
  };
})();
